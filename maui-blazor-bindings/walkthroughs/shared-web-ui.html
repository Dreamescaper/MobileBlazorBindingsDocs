<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Walkthrough: Shared Web UI - Maui Blazor Bindings </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Walkthrough: Shared Web UI - Maui Blazor Bindings ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../TOC.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="shared-web-ui">Shared Web UI</h1>

<div class="IMPORTANT">
<h5>Important</h5>
<p>This project is an experimental release. We hope you try out Experimental Maui Blazor Bindings and provide feedback at <a href="https://github.com/Dreamescaper/BlazorBindings.Maui">https://github.com/Dreamescaper/BlazorBindings.Maui</a>.</p>
</div>

<p>Now that you have built a Maui Blazor Bindings hybrid app that incorporates web UI (HTML with CSS), this walkthrough will show you how to share the web UI with a Blazor Web App so that you can provide your same app UI on the web.</p>
<p>In Blazor this is done by placing the shared UI in a Razor Class Library project, or RCL for short. This enables packaging the web UI and code as a reusable entity that can be referenced by multiple projects in a solution or shared more broadly by distributing it as a NuGet package. An RCL  package can be referenced by a Maui Blazor Bindings app and a Blazor Web app so that they share the exact same UI.</p>
<p>In this walkthrough you will create a reusable Email Display UI in an RCL and use it in the Mobile Blazor Binding hybrid app and in a Blazor Web app.</p>
<div class="NOTE">
<h5>Note</h5>
<p>This page is a continuation of the <a href="build-first-hybrid-app.html">Build your first hybrid app</a> walkthrough. We recommend you complete that walkthrough before continuing.</p>
</div>
<h2 id="add-a-razor-class-library-rcl">Add a Razor Class Library (RCL)</h2>
<p>To add an RCL to your app:</p>
<ol>
<li>Right-click on the Solution node in Solution Explorer and select Add / New Project.</li>
<li>Locate the Razor Class Library project type and click Next.</li>
<li>Enter a name for the project, such as <code>EmailDisplayUI</code> and click Create.</li>
<li>In the next dialog ensure that following settings are selected: <code>.NET Core 3.1</code>, No Authentication, and no support for pages and views, and then click Create.</li>
</ol>
<p>The new project contains its own Razor files where you will author the web UI and a <code>wwwroot</code> folder to contain static assets that are part of this component.</p>
<h2 id="add-shared-web-ui-to-the-rcl">Add shared web UI to the RCL</h2>
<ol>
<li><p>Right-click on the RCL project and select Add / Class</p>
</li>
<li><p>Enter the name <code>EmailData.cs</code> and click Add</p>
</li>
<li><p>Add a file named <code>Email.cs</code> to the RCL</p>
</li>
<li><p>Replace its contents with the following C# code:</p>
<pre><code class="lang-c#">namespace EmailDisplayUI
{
    public class EmailData
    {
        public string From { get; set; }
        public string To { get; set; }
        public string Subject { get; set; }
        public bool IsImportant { get; set; }
        public string Body { get; set; }
    }
}
</code></pre>
</li>
<li><p>Rename <code>Component1.razor</code> to <code>DisplayEmail.razor</code></p>
</li>
<li><p>Replace its contents with the following Razor markup:</p>
<pre><code class="lang-html">&lt;div class=&quot;emailDisplay&quot;&gt;
    &lt;div class=&quot;emailHeader&quot;&gt;
        &lt;div&gt;
            &lt;label&gt;From:&lt;/label&gt; @Email.From
        &lt;/div&gt;
        &lt;div&gt;
            &lt;label&gt;To:&lt;/label&gt; @Email.To
        &lt;/div&gt;
        &lt;div&gt;
            &lt;label&gt;Priority:&lt;/label&gt; @(Email.IsImportant ? &quot;High&quot; : &quot;Normal&quot;)
        &lt;/div&gt;
        &lt;div&gt;
            &lt;label&gt;Subject:&lt;/label&gt; @Email.Subject
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;emailBody&quot;&gt;
        @Email.Body
    &lt;/div&gt;
&lt;/div&gt;

@code
{
    [Parameter] public EmailData Email { get; set; }
}
</code></pre>
</li>
<li><p>Change the contents of <code>wwwroot/styles.css</code> to the following:</p>
<pre><code class="lang-css">label {
    font-weight: bold;
    font-style: italic;
}

.emailDisplay {
    background-image: url('background.png');
}

.emailHeader {
    border: 2px solid #808080;
    padding: 1em;
    margin: 1em 0;
}

.emailBody {
    border: 1px solid #808080;
    padding: 1em;
    margin: 1em 0;
}
</code></pre>
</li>
</ol>
<h2 id="reference-the-rcl">Reference the RCL</h2>
<p>To use the RCL you need to reference it from the main UI project so that the UI can be referenced from it. You also need to reference it from the platform-specific projects so that the static assets will be detected and included in those apps.</p>
<p>In each of the FirstBlazorHybridApp, FirstBlazorHybridApp.Android, FirstBlazorHybridApp.iOS, FirstBlazorHybridApp.macOS, and FirstBlazorHybridApp.Windows projects do the following:</p>
<ol>
<li>Right-click on the project and select Add / Project Reference or Add / Reference</li>
<li>Select <code>EmailDisplayUI</code> and click OK</li>
</ol>
<p>Now you are ready to use the Email Display UI in your project:</p>
<ol>
<li><p>In the FirstBlazorHybridApp project open the <code>WebUI/_Imports_.razor</code> file and add this line to the end of the file: <code>@using EmailDisplayUI</code></p>
</li>
<li><p>In the FirstBlazorHybridApp project open the <code>WebUI/Pages/Index.razor</code> file</p>
</li>
<li><p>Add the following contents to the bottom of the file:</p>
<pre><code class="lang-html">&lt;DisplayEmail Email=&quot;email&quot; /&gt;

@code
{
    EmailData email = new EmailData { From=&quot;sender@example.com&quot;, To=&quot;recipient@example.com&quot;, IsImportant=true, Subject=&quot;Learn about Blazor&quot;, Body=&quot;Tutorials are wonderful!&quot; };
}
</code></pre>
</li>
<li><p>Add a reference to the CSS from each platform-specific project by adding the line <code>&lt;link href=&quot;_content/EmailDisplayUI/styles.css&quot; rel=&quot;stylesheet&quot; /&gt;</code> to the <code>&lt;head&gt;</code> section:</p>
<ul>
<li>Android: <code>wwwroot/index.html</code></li>
<li>iOS: <code>Resources/wwwroot/index.html</code></li>
<li>macOS: <code>Resources/wwwroot/index.html</code></li>
<li>Windows: <code>wwwroot/index.html</code></li>
</ul>
</li>
</ol>
<h2 id="run-the-apps-to-test-the-ui">Run the apps to test the UI</h2>
<p>You are now ready to test out the new UI! Right-click on any of the Android, iOS, macOS, or Windows projects, select Set as Startup Project, and run the app. You should see the native UI load with the web UI below it, and the web UI should show the email display UI you created.</p>
<p>On the iOS Simulator it should look like this:</p>
<p>[ ![Email display UI running in the iOS Simulator[(./media/shared-web-ui/ios-shared-ui-inline.png) [(./media/shared-web-ui/ios-shared-ui-expanded.png#lightbox)</p>
<h2 id="add-a-blazor-web-project">Add a Blazor Web project</h2>
<p>Now you are ready to re-use the UI you built in a web app!</p>
<ol>
<li><p>Right-click on the solution node in Solution Explorer and select Add / New Project</p>
</li>
<li><p>Select the Blazor App template and click Next</p>
</li>
<li><p>Enter a name, such as <code>FirstBlazorWebApp</code> and click Create</p>
</li>
<li><p>Select the Blazor Server App option, <code>.NET Core 3.1</code>, No Auth, Yes for HTTPS, and No for Docker, and click Create.</p>
</li>
<li><p>Right-click on the FirstBlazorWebApp project and select Add / Project Reference</p>
</li>
<li><p>Select the <code>EmailDisplayUI</code> project and click OK</p>
</li>
<li><p>Open the <code>Pages/_Host.cshtml</code> file and add the line <code>&lt;link href=&quot;_content/EmailDisplayUI/styles.css&quot; rel=&quot;stylesheet&quot; /&gt;</code> to the <code>&lt;head&gt;</code> section</p>
</li>
<li><p>Open the <code>_Imports.razor</code> file and add this line to the end of the file: <code>@using EmailDisplayUI</code></p>
</li>
<li><p>Open the <code>Pages/Index.razor</code> file and add the following contents to the bottom of the file:</p>
<pre><code class="lang-html">&lt;DisplayEmail Email=&quot;email&quot; /&gt;

@code
{
    EmailData email = new EmailData { From=&quot;sender@example.com&quot;, To=&quot;recipient@example.com&quot;, IsImportant=true, Subject=&quot;Learn about Blazor&quot;, Body=&quot;Tutorials are wonderful!&quot; };
}
</code></pre>
</li>
<li><p>To run the project, right-click on the project, select Set as Startup Project, and run it. This will start the ASP.NET Core web app and open your default web browser to the app.</p>
</li>
</ol>
<p>It should look like this in your web browser:</p>
<p>[ ![Email display UI running in the web browser[(./media/shared-web-ui/web-shared-ui-inline.png) [(./media/shared-web-ui/web-shared-ui-expanded.png#lightbox)</p>
<h2 id="additional-resources">Additional resources</h2>
<p>To learn more about Razor Class Libraries check out these resources:</p>
<ul>
<li><a href="https://docs.microsoft.com/aspnet/core/blazor/components/class-libraries">ASP.NET Core Razor components class libraries</a></li>
<li><a href="https://docs.microsoft.com/aspnet/core/razor-pages/ui-class">Create reusable UI using the Razor class library project in ASP.NET Core</a></li>
</ul>
<h2 id="summary">Summary</h2>
<p>In this walkthrough you created a Blazor Hybrid app that uses a Razor Class Library (RCL) for a portion of its UI (the email display). You then used that same RCL to host the UI in an ASP.NET Core web application.</p>
<p>This walkthrough showed an example of a read-only UI, but the same techniques can be used to create arbitrarily complex UI with arbitrarily complex application logic to meet any application requirement. You can use patterns such as dependency injection (DI) to create platform-specific services.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Dreamescaper/MobileBlazorBindingsDocs/blob/main/maui-blazor-bindings/walkthroughs/shared-web-ui.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
