<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Navigating with Shell Navigation Manager - Maui Blazor Bindings </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Navigating with Shell Navigation Manager - Maui Blazor Bindings ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../TOC.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="shell-navigation-manager">Shell Navigation Manager</h1>

<div class="IMPORTANT">
<h5>Important</h5>
<p>This project is an experimental release. We hope you try out Experimental Maui Blazor Bindings and provide feedback at <a href="https://github.com/Dreamescaper/BlazorBindings.Maui">https://github.com/Dreamescaper/BlazorBindings.Maui</a>.</p>
</div>

<p>There are several different approaches to navigation in Maui Blazor Bindings. They are based on MAUI navigation patterns such as Master/Detail, TabbedPage, Navigation Page, and Shell.</p>
<p>Shell Navigation Manager is designed to feel familiar to Blazor developers. The routes are added using the <code>@page</code> directive with the same format, including parameters, and the navigation manager is accessed via dependency injection.</p>
<p>Internally it is implemented using MAUI Shell URI Navigation. Shell has support for top tabs, bottom tabs, hamburger/flyout, stack, modal and URI-based navigation. These can all be mixed together or used in isolation, depending on what your app needs.</p>
<p><img src="media/shell-navigation/shell.gif" alt="Demonstration of Shell Navigation in the Xaminals demo shown on an iPhone."></p>
<p>For more details on Shell, check out the <a href="https://docs.microsoft.com/xamarin/xamarin-forms/app-fundamentals/shell/">Xamarin Forms documentation</a>. Details of routing in Blazor are in the <a href="https://docs.microsoft.com/aspnet/core/blazor/fundamentals/routing">ASP.NET Core documentation</a></p>
<p>For a sample of ShellNavigationManager see the <a href="https://github.com/Dreamescaper/BlazorBindings.Maui/tree/master/samples/MobileBlazorBindingsXaminals">Xaminals sample in the Maui Blazor Bindings repo</a>.</p>
<h2 id="setup">Setup</h2>
<p>To use the <code>ShellNavigationManager</code> you'll need to have a <code>Shell</code> as the <code>MainPage</code> in your app.</p>
<p>To start off here is a simple <code>Shell</code> that has two tabs: one for a HomePage, and one for an AboutPage. This should be in a file called <code>AppShell.razor</code>.</p>
<pre><code class="lang-xml">&lt;Shell FlyoutBehavior=&quot;FlyoutBehavior.Disabled&quot;&gt;
    &lt;TabBar&gt;
        &lt;Tab&gt;
            &lt;ShellContent&gt;
                &lt;HomePage /&gt;
            &lt;/ShellContent&gt;

            &lt;ShellContent&gt;
                &lt;AboutPage /&gt;
            &lt;/ShellContent&gt;
        &lt;/Tab&gt;
    &lt;/TabBar&gt;
&lt;/Shell&gt;
</code></pre>
<p><img src="media/shell-navigation/shell-tabs.gif" alt="App with two tabs built with Shell."></p>
<div class="IMPORTANT">
<h5>Important</h5>
<p>The <code>HomePage</code> and <code>AboutPage</code> must have <code>ContentPage</code> as their root element to be used in <code>Shell</code>.</p>
</div>
<p>Inside <code>App.cs</code>, the <code>AppShell</code> needs to be set as the <code>MainPage</code> of the app. This is done by calling <code>AddComponent</code>. Setting the <code>Shell</code> as the <code>MainPage</code> is done in the background so we also have to set a blank <code>ContentPage</code> as a placeholder while it is loading.</p>
<p>To enable <code>ShellNavigationManager</code> and make it available for our pages we add it as a singleton service.</p>
<p>This should give you an <code>App</code> constructor that looks like this:</p>
<pre><code class="lang-c#">public App()
{
    AppHost = MobileBlazorBindingsHost.CreateDefaultBuilder()
        .ConfigureServices((hostContext, services) =&gt;
        {
            // Register app-specific services
            //services.AddSingleton&lt;AppState&gt;();
            services.AddSingleton&lt;ShellNavigationManager&gt;();
        })
        .Build();

    MainPage = new ContentPage();
    AppHost.AddComponent&lt;AppShell&gt;(parent: this);
}
</code></pre>
<h2 id="registering-routes">Registering Routes</h2>
<p>Route registration occurs in each Razor component that you want to be able to navigate to. Routes are defined using the <code>@page</code> directive followed by a string URI. This URI must start with a slash.</p>
<p>For example, here's a contact page with the route <code>/contact</code>.</p>
<pre><code class="lang-xml">@page &quot;/contact&quot;
&lt;ContentPage&gt;
    &lt;StackLayout&gt;
        &lt;Label Text=&quot;Phone Number:&quot;&gt;&lt;/Label&gt;
        &lt;Label Text=&quot;123456&quot;&gt;&lt;/Label&gt;
    &lt;/StackLayout&gt;
&lt;/ContentPage&gt;
</code></pre>
<p>Multiple routes can be placed on a page if required.</p>
<div class="NOTE">
<h5>Note</h5>
<p>As of the 0.6 Preview The target of a Shell navigation must derive from the <code>Page</code> type. Prior to the 0.6 Preview release the target had to derive from <code>ContentView</code>.</p>
</div>
<h2 id="navigating-to-a-page">Navigating to a page</h2>
<p>Navigation between pages is achieved using the Shell Navigation Manager, which you can access in your components using the <code>@inject</code> directive. Once you have an instance you call <code>NavigateToAsync()</code> with the URI of the page you want to open.</p>
<p>The following example shows a page with a <code>Button</code> that when pressed will navigate to the <code>ContactPage</code>.</p>
<pre><code class="lang-xml">@inject ShellNavigationManager NavigationManager
&lt;ContentPage&gt;
    &lt;StackLayout&gt;
        &lt;Button Text=&quot;Contact&quot;
                OnClick=&quot;OpenContactPage&quot;&gt;
        &lt;/Button&gt;
    &lt;/StackLayout&gt;
&lt;/ContentPage&gt;

@code
{
    async Task OpenContactPage()
    {
        await NavigationManager.NavigateToAsync(&quot;/contact&quot;);
    }
}
</code></pre>
<p><img src="media/shell-navigation/shell-navigation.gif" alt="Shell navigation using NavigateToAsync"></p>
<h2 id="navigation-parameters">Navigation parameters</h2>
<p>When navigating to a page you will often want to pass data to the destination page. In Blazor you can pass data as parameters in the URI.</p>
<p>To set up a page to accept a navigation parameter you will need to add a property to the page and mark it with the <code>[Parameter]</code> attribute.</p>
<p>e.g.</p>
<pre><code class="lang-c#">[Parameter] public string Name { get; set; }
</code></pre>
<p>Then you need to add a route for the page with the parameter name, surrounded with <code>{}</code> at the end of the <code>/</code> separated URI.</p>
<p>For example:</p>
<pre><code class="lang-xml">@page &quot;/contact/{Name}&quot;
</code></pre>
<p>To navigate to this page with a parameter, substitute the name you want to pass into the URI and use the same <code>NavigateToAsync</code> function. For example:</p>
<pre><code class="lang-c#">await NavigationManager.NavigateToAsync(&quot;contact/Dunston&quot;);
</code></pre>
<p>When the <code>ContactPage</code> is navigated to, you can read the value of the <code>Name</code> by accessing the <code>Name</code> property in the page.</p>
<p><img src="media/shell-navigation/shell-navigation-parameter.gif" alt="Shell navigation with name parameter using a text entry."></p>
<p>Navigation parameters can be any of several .NET types that can be easily converted into strings, such as <code>int</code>, <code>string</code>, <code>Guid</code>, and <code>DateTime</code>. Full details of supported types are available in the <a href="https://docs.microsoft.com/aspnet/core/blazor/fundamentals/routing#route-constraints">Blazor Routing documentation</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Dreamescaper/MobileBlazorBindingsDocs/blob/main/maui-blazor-bindings/walkthroughs/shell-navigation-manager.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
