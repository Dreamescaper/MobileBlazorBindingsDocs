<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Access native controls - Maui Blazor Bindings </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Access native controls - Maui Blazor Bindings ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../TOC.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="access-native-controls">Access native controls</h1>

<div class="IMPORTANT">
<h5>Important</h5>
<p>This project is an experimental release. We hope you try out Experimental Maui Blazor Bindings and provide feedback at <a href="https://github.com/xamarin/MobileBlazorBindings">https://github.com/xamarin/MobileBlazorBindings</a>.</p>
</div>

<p>Controls in Maui Blazor Bindings are abstractions of lower-level controls, thus enabling easier development of cross-platform applications. Most parts of most applications will use only Maui Blazor Bindings controls. Occasionally, access to the lower-level controls is needed for more advanced scenarios, such as accessing device-specific APIs or doing animations.</p>
<h2 id="layers-of-controls">Layers of controls</h2>
<p>Applications built with Maui Blazor Bindings have a few layers of controls:</p>
<ol>
<li>The Maui Blazor Bindings controls, such as <code>&lt;Label /&gt;</code> and <code>&lt;StackLayout /&gt;</code>.</li>
<li>The native Xamarin.Forms controls, such as <code>Xamarin.Forms.Label</code> and <code>Xamarin.Forms.StackLayout</code>.</li>
<li>The native OS controls, such as Android's <code>TextView</code> and iOS's <code>UILabel</code>.</li>
</ol>
<p>Each layer of controls creates the next layer, if needed. Some controls exist only at one level and are often either containers or layouts that contain other controls. Other controls are conceptual controls to add additional functionality to part of the application and have no lower-level representation. For example, the <code>StyleSheet</code> control only serves to load a CSS style sheet and has no lower-level control.</p>
<h2 id="accessing-native-xamarinforms-controls-from-blazor-components">Accessing native Xamarin.Forms controls from Blazor components</h2>
<p>Maui Blazor Bindings controls have a <code>NativeControl</code> property to access the Xamarin.Forms native control counterpart.</p>
<p>To access the native control in a <code>.razor</code> page:</p>
<ol>
<li>Declare a field in the <code>@code{}</code> block of the type of the element. For the built-in components, the element types are in the <code>Microsoft.MobileBlazorBindings.Elements</code> namespace. For a Button control this would be <code>Microsoft.MobileBlazorBindings.Elements.Button incrementButton;</code>.</li>
<li>Use the <code>@ref</code> attribute directive on the control to associate it with the field you created. For example, <code>&lt;Button @ref=&quot;incrementButton&quot; ... /&gt;</code>.</li>
<li>Use the field's <code>NativeControl</code> property to access the Xamarin.Forms native control and its properties and methods. For example, <code>incrementButton.NativeControl.Rotation = 0;</code>.</li>
</ol>
<p>Here is a complete example that shows how to apply a rotation animation to a button when it is pressed:</p>
<pre><code class="lang-xml">&lt;StackLayout&gt;
    &lt;Label Text=&quot;@(&quot;You have pressed &quot; + counter + &quot; times&quot;)&quot; /&gt;
    &lt;Button @ref=&quot;incrementButton&quot; Text=&quot;+1&quot; OnClick=&quot;HandleClick&quot; /&gt;
&lt;/StackLayout&gt;

@code {
    Microsoft.MobileBlazorBindings.Elements.Button incrementButton;

    int counter;

    async Task HandleClick()
    {
        counter++;

        await incrementButton.NativeControl.RotateTo(360);
        incrementButton.NativeControl.Rotation = 0; // Reset rotation
    }
}
</code></pre>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="no-nativecontrol-property">No NativeControl property</h3>
<p>Not all Maui Blazor Bindings controls have native controls, in which case there is either no <code>NativeControl</code> property, or the property exists but always returns <code>null</code>.</p>
<h3 id="the-nativecontrol-property-is-null">The NativeControl property is null</h3>
<p>If the <code>NativeControl</code> property exists but is null then the control either doesn't have a native control, or the <code>NativeControl</code> property was accessed too early and the native control has not yet been created.</p>
<h3 id="getting-typenamespace-conflicts-between-blazor-controls-and-other-controls-and-elements">Getting type/namespace conflicts between Blazor controls and other controls and elements</h3>
<p>The various controls and elements of each layer often use the same type names, but in different namespaces. For this reason you need to be careful which namespaces are imported in which files. For example, in the sample above, the <code>Microsoft.MobileBlazorBindings.Elements</code> is not imported (either via a <code>using</code> directive, or in the <code>_Imports.razor</code> file) because that would create conflicts with other namespaces. When using element references, it is recommended to use the fully-qualified namespace name, such as <code>Microsoft.MobileBlazorBindings.Elements.Button</code>.</p>
<h2 id="more-information">More information</h2>
<p>Learn more about Blazor component references in the <a href="https://docs.microsoft.com/dotnet/architecture/blazor-for-web-forms-developers/components#capture-component-references">Build reusable UI components with Blazor</a> topic in the Blazor documentation.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Dreamescaper/MobileBlazorBindingsDocs/blob/main/maui-blazor-bindings/advanced/access-native-controls.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
